--- a/Makefile	2023-02-14 13:15:57.920874565 +0100
+++ b/Makefile	2023-02-14 14:30:58.157513472 +0100
@@ -9,10 +9,19 @@
   endif
 endif
 
+ARCH := $(shell dpkg --print-architecture)
+ifeq ($(ARCH),amd64)
+    GNU_ARCH := x86_64
+else ifeq ($(ARCH),arm64)
+    GNU_ARCH := aarch64
+else
+    $(error Unknown architecture $(ARCH))
+endif
+
 # Try to find which subdir of the SDK has the libraries
 ifneq ($(AWS_SDK_PATH),)
-  ifneq ($(wildcard $(AWS_SDK_PATH)/lib/libaws-c-common.*),)
-    AWS_SDK_LIB_PATH := $(addsuffix /lib,$(AWS_SDK_PATH))
+  ifneq ($(wildcard $(AWS_SDK_PATH)/lib/$(GNU_ARCH)-linux-gnu/libaws-c-common.*),)
+    AWS_SDK_LIB_PATH := $(addsuffix /lib/$(GNU_ARCH)-linux-gnu,$(AWS_SDK_PATH))
   else ifneq ($(wildcard $(AWS_SDK_PATH)/lib64/libaws-c-common.*),)
     AWS_SDK_LIB_PATH := $(addsuffix /lib64,$(AWS_SDK_PATH))
   else
